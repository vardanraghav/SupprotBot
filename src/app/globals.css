@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 255 100% 100%;
    --foreground: 240 6% 16%; /* #2A2A2A */
    --card: 240 10% 97%;
    --card-foreground: 240 6% 16%;
    --popover: 255 100% 100%;
    --popover-foreground: 240 6% 16%;
    --primary: 261 74% 70%; /* #A388EE */
    --primary-foreground: 255 100% 100%;
    --secondary: 240 5% 96%;
    --secondary-foreground: 240 6% 10%;
    --muted: 240 5% 65%; /* #9F9F9F */
    --muted-foreground: 240, 4%, 46%;
    --accent: 164 45% 70%; /* #8FD6C3 */
    --accent-foreground: 240 6% 16%;
    --destructive: 0 84% 70%; /* #F36E6E */
    --destructive-foreground: 0 0% 100%;
    --border: 240 6% 90%;
    --input: 240 6% 90%;
    --ring: 261 74% 70%;
    --radius: 1rem; /* 16px */

     /* Mood-adaptive themes */
    --bg-happy-start: 255, 248, 204; /* #FFF8CC */
    --bg-happy-end: 228, 209, 255; /* #E4D1FF */
    
    --bg-neutral-start: 244, 236, 255; /* #F4ECFF */
    --bg-neutral-end: 215, 250, 238; /* #D7FAEE */

    --bg-low-start: 255, 230, 230; /* #FFE6E6 */
    --bg-low-end: 255, 239, 239; /* #FFEFEF */

    --bg-sad-start: 220, 228, 255; /* #DCE4FF */
    --bg-sad-end: 244, 226, 255; /* #F4E2FF */

    --bg-anxiety-start: 201, 239, 255; /* #C9EFFF */
    --bg-anxiety-end: 232, 247, 255; /* #E8F7FF */

    --bg-focus-start: 238, 232, 255; /* #EEE8FF */
    --bg-focus-end: 209, 216, 255; /* #D1D8FF */

    --bg-default-start: 247, 243, 255; /* #F7F3FF */
    --bg-default-end: 237, 231, 255; /* #EDE7FF */
  }

  .dark {
     /* Keeping dark mode vars for reference, but we are a light-theme app now */
    --background: 217 33% 7%;
    --foreground: 240 18% 90%;
    --card: 233 19% 8%;
    --card-foreground: 240 18% 90%;
    --popover: 233 19% 8%;
    --popover-foreground: 240 18% 90%;
    --primary: 259 100% 87%;
    --primary-foreground: 259 80% 20%;
    --secondary: 233 19% 12%;
    --secondary-foreground: 240 18% 90%;
    --muted: 220 9% 64%;
    --muted-foreground: 240 5% 75%;
    --accent: 141 40% 73%;
    --accent-foreground: 141 30% 20%;
    --destructive: 0 100% 74%;
    --destructive-foreground: 0 0% 10%;
    --border: 240 4% 20%;
    --input: 240 4% 16%;
    --ring: 259 100% 87%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Alegreya Sans', sans-serif;
  }

  body.theme-default {
    background: linear-gradient(135deg, rgb(var(--bg-default-start)) 0%, rgb(var(--bg-default-end)) 100%);
  }
  body.theme-happy {
    background: linear-gradient(135deg, rgb(var(--bg-happy-start)) 0%, rgb(var(--bg-happy-end)) 100%);
  }
  body.theme-neutral {
    background: linear-gradient(135deg, rgb(var(--bg-neutral-start)) 0%, rgb(var(--bg-neutral-end)) 100%);
  }
  body.theme-low {
    background: linear-gradient(135deg, rgb(var(--bg-low-start)) 0%, rgb(var(--bg-low-end)) 100%);
  }
  body.theme-sad {
    background: linear-gradient(135deg, rgb(var(--bg-sad-start)) 0%, rgb(var(--bg-sad-end)) 100%);
  }
   body.theme-anxiety {
    background: linear-gradient(135deg, rgb(var(--bg-anxiety-start)) 0%, rgb(var(--bg-anxiety-end)) 100%);
  }
   body.theme-focus {
    background: linear-gradient(135deg, rgb(var(--bg-focus-start)) 0%, rgb(var(--bg-focus-end)) 100%);
  }

  body {
     background: linear-gradient(135deg, rgb(var(--bg-default-start)) 0%, rgb(var(--bg-default-end)) 100%);
     background-attachment: fixed;
  }
}

@layer utilities {
  .breathing-circle {
    animation: breathe 8s ease-in-out infinite;
  }

  .breathing-glow {
    animation: glow 8s ease-in-out infinite;
  }
  
  .glassmorphism {
    background: rgba(255, 255, 255, 0.45);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-width: 1px;
    border-color: rgba(255, 255, 255, 0.2);
  }

  @keyframes breathe {
    0%, 100% {
      transform: scale(0.6);
      opacity: 0.7;
    }
    50% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 20px 5px hsl(var(--primary) / 0);
    }
    50% {
      box-shadow: 0 0 70px 30px hsl(var(--primary) / 0.15);
    }
  }
  
  @media (prefers-reduced-motion) {
    .breathing-circle, .breathing-glow, * {
      animation: none !important;
      transition: none !important;
    }
  }
}
